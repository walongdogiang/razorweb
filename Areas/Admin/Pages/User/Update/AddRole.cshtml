@page "/Admin/add-role"
@model AddRoleModel
@{
    ViewData["Title"] = "Thiết lập Role cho người dùng";
    ViewData["ActivePage"] = ManageNavPages.AddRole;
}

<h3>@ViewData["Title"]</h3>
<div class="row">
    <div class="col-md-8">
        <form id="set-password-form" method="post">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <div class="form-group mb-3">
                <label asp-for="userRoles"></label>
                <div class="row mt-2">
                    <div class="col-md-8 pe-0">
                        @Html.ListBoxFor(m => m.userRoles, Model.allRoles, new{
                        id = "id-select-roles", @class = "form-control border border-info rounded-1", multiple="multiple"
                        })
                    </div>
                    <div class="col-md-4 ps-1">
                        <a href="javascript:document.getElementById('id-select-roles').selectize.selectall();"
                           class="btn btn-primary">
                            Chọn tất cả
                        </a>
                    </div>

                </div>

                <span asp-validation-for="userRoles" class="text-danger"></span>
            </div>
            <div class="clearfix"></div>
            <div class="form-group mb-3">
                <button type="submit" class="btn btn-lg btn-primary">Đồng ý</button>
                <a asp-page="../Index" class="btn btn-lg btn-secondary">Hủy bỏ</a>
            </div>
        </form>
    </div>
</div>

@section Scripts {
    <script src="~/lib/selectize.js/js/selectize.min.js"></script>
    <link href="~/lib/selectize.js/css/selectize.bootstrap5.min.css" rel="stylesheet" />
    <script>
        $(document).ready(function () {
            $('#id-select-roles').selectize({
                plugins: ['remove_button', 'clear_button',],
                closeAfterSelect: true,
                placeholder: 'Thêm Role ...'
            });
        });

        //Hàm chọn tất cả
        Selectize.prototype.selectall = function () {
            var self = this;
            self.setValue(Object.keys(self.options));
            self.focus();
        };
    </script>

    <partial name="_ValidationScriptsPartial" />
}

